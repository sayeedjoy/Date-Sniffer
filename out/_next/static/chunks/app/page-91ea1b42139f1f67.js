(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6559:function(e,t,a){Promise.resolve().then(a.bind(a,6774))},6774:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var l=a(7437),i=a(2265);function s(){let[e,t]=(0,i.useState)(""),[a,s]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[c,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),[m,h]=(0,i.useState)(!1),v=window.chrome,[x,j]=(0,i.useState)(!0);(0,i.useEffect)(()=>{var e,t;let a=window.matchMedia("(prefers-color-scheme: dark)").matches;h(a),document.documentElement.setAttribute("data-theme",a?"dark":"light");try{null==v||null===(e=v.storage)||void 0===e||e.local.get("isDarkMode",e=>{let t=null==e?void 0:e.isDarkMode;"boolean"==typeof t&&(h(t),document.documentElement.setAttribute("data-theme",t?"dark":"light"))})}catch(e){}let l=e=>{(null==e?void 0:e.type)==="DATE_DETECTED"&&e.date&&r(e.date)};try{null==v||null===(t=v.runtime)||void 0===t||t.onMessage.addListener(l)}catch(e){}return()=>{try{var e;null==v||null===(e=v.runtime)||void 0===e||e.onMessage.removeListener(l)}catch(e){}}},[]),(0,i.useEffect)(()=>{try{var e;null==v||null===(e=v.tabs)||void 0===e||e.query({active:!0,currentWindow:!0},e=>{var t;let a=null==e?void 0:e[0];(null==a?void 0:a.id)&&(null==v||null===(t=v.tabs)||void 0===t||t.sendMessage(a.id,{action:"extractDate"},e=>{(null==e?void 0:e.date)&&r(e.date)}))})}catch(e){}},[]);let f=e=>{h(e),document.documentElement.setAttribute("data-theme",e?"dark":"light");try{var t;null==v||null===(t=v.storage)||void 0===t||t.local.set({isDarkMode:e})}catch(e){}},p=e=>!!e&&(/tiktok\.com\/.+\/(video|photo)\/(\d{8,20})/i.test(e)||/linkedin\.com\/.*urn:li:activity:\d{10,}/i.test(e)||/linkedin\.com.*[^0-9]([0-9]{19})/i.test(e)||/fsd_comment:\((\d+),urn:li:activity:\d+\)/i.test(e)),N=async()=>{if(u(null),s(null),!p(e)){u("Please enter a valid TikTok or LinkedIn URL");return}o(!0);try{var t,a;if(/tiktok\.com/i.test(e)){let a=null===(t=/\/(video|photo)\/(\d{8,20})/i.exec(e))||void 0===t?void 0:t[2];if(!a)throw Error("Invalid TikTok video ID");let l=BigInt(a)>>32n,i=1e3*Number(l);s(new Date(i).toUTCString()+" (UTC)")}else if(/linkedin\.com/i.test(e)){let t=decodeURIComponent(e),l=/fsd_comment:\((\d+),urn:li:activity:\d+\)/i.exec(t),i=(null==l?void 0:l[1])||(null===(a=/([0-9]{19})/i.exec(t))||void 0===a?void 0:a[1]);if(!i)throw Error("Could not extract LinkedIn ID");let n=Number(BigInt(i)>>23n);s(new Date(n).toUTCString()+" (UTC)")}}catch(e){u((null==e?void 0:e.message)||"Extraction failed")}finally{o(!1)}},g=e=>{e&&navigator.clipboard.writeText(e)},k=e=>{if(!e)return"";let t=new Date(e.replace(" (UTC)",""));return x?t.toUTCString()+" (UTC)":t.toLocaleString()},b=e=>{if(!e)return"";let t=new Date(e.replace(" (UTC)","")),a=Math.floor(Math.abs(Date.now()-t.getTime())/6e4);if(a<1)return"just now";if(a<60)return"".concat(a,"m ago");let l=Math.floor(a/60);if(l<24)return"".concat(l,"h ago");let i=Math.floor(l/24);if(i<30)return"".concat(i,"d ago");let s=Math.floor(i/30);return s<12?"".concat(s,"mo ago"):"".concat(Math.floor(s/12),"y ago")};return(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("header",{className:"header",children:[(0,l.jsxs)("div",{className:"title",children:[(0,l.jsx)("span",{className:"material-icons",children:"event"}),(0,l.jsx)("h2",{children:"Date Sniffer"})]}),(0,l.jsxs)("div",{className:"header-actions",children:[(0,l.jsxs)("div",{className:"tz-toggle",role:"group","aria-label":"Timezone toggle",children:[(0,l.jsx)("button",{className:x?"active":"",onClick:()=>j(!0),children:"UTC"}),(0,l.jsx)("button",{className:x?"":"active",onClick:()=>j(!1),children:"Local"})]}),(0,l.jsx)("button",{className:"theme-toggle",onClick:()=>f(!m),"aria-label":"Toggle dark mode",children:(0,l.jsx)("span",{className:"material-icons",children:m?"light_mode":"dark_mode"})})]})]}),(0,l.jsxs)("section",{className:"card",children:[(0,l.jsxs)("div",{className:"input-section",children:[(0,l.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Paste TikTok or LinkedIn URL","aria-label":"URL input field"}),(0,l.jsxs)("button",{onClick:N,disabled:!e,"aria-label":"Extract date from URL",children:[(0,l.jsx)("span",{className:"material-icons",children:"schedule"}),"Extract"]}),(0,l.jsx)("button",{onClick:()=>{t(""),u(null),s(null)},"aria-label":"Clear input field",children:(0,l.jsx)("span",{className:"material-icons",children:"clear"})})]}),d&&(0,l.jsx)("div",{id:"urlValidation",className:"error",role:"alert","aria-live":"polite",children:d}),c&&(0,l.jsx)("div",{id:"loader",className:"loader",role:"status","aria-label":"Loading",children:(0,l.jsx)("span",{className:"sr-only",children:"Loading..."})}),a&&(0,l.jsx)("div",{id:"result",className:"result",role:"status","aria-live":"polite",children:(0,l.jsxs)("div",{className:"result-row",children:[(0,l.jsxs)("div",{className:"result-main",children:[(0,l.jsx)("div",{className:"result-label",children:"Post Date"}),(0,l.jsx)("div",{className:"result-value",id:"date",children:k(a)}),(0,l.jsx)("div",{className:"result-sub",children:b(a)})]}),(0,l.jsx)("div",{className:"result-actions",children:(0,l.jsxs)("button",{onClick:()=>g(k(a)),"aria-label":"Copy date to clipboard",children:[(0,l.jsx)("span",{className:"material-icons",children:"content_copy"}),(0,l.jsx)("span",{children:"Copy"})]})})]})})]}),n&&(0,l.jsx)("section",{id:"auto-detect",className:"card",role:"status","aria-live":"polite",children:(0,l.jsxs)("div",{className:"result-row",children:[(0,l.jsxs)("div",{className:"result-main",children:[(0,l.jsx)("div",{className:"result-label",children:"Detected Post Date"}),(0,l.jsx)("div",{className:"result-value",id:"detected-date",children:k(n)}),(0,l.jsx)("div",{className:"result-sub",children:b(n)})]}),(0,l.jsx)("div",{className:"result-actions",children:(0,l.jsxs)("button",{onClick:()=>g(k(n)),"aria-label":"Copy detected date to clipboard",children:[(0,l.jsx)("span",{className:"material-icons",children:"content_copy"}),(0,l.jsx)("span",{children:"Copy"})]})})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6559)}),_N_E=e.O()}]);