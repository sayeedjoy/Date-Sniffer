(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6559:function(e,t,l){Promise.resolve().then(l.bind(l,6774))},6774:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return s}});var a=l(7437),i=l(2265);function s(){let[e,t]=(0,i.useState)(""),[l,s]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[c,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1),v=window.chrome,[x,j]=(0,i.useState)(!0);(0,i.useEffect)(()=>{var e,t;let l=window.matchMedia("(prefers-color-scheme: dark)").matches;m(l),document.documentElement.setAttribute("data-theme",l?"dark":"light");try{null==v||null===(e=v.storage)||void 0===e||e.local.get("isDarkMode",e=>{let t=null==e?void 0:e.isDarkMode;"boolean"==typeof t&&(m(t),document.documentElement.setAttribute("data-theme",t?"dark":"light"))})}catch(e){}let a=e=>{(null==e?void 0:e.type)==="DATE_DETECTED"&&e.date&&r(e.date)};try{null==v||null===(t=v.runtime)||void 0===t||t.onMessage.addListener(a)}catch(e){}return()=>{try{var e;null==v||null===(e=v.runtime)||void 0===e||e.onMessage.removeListener(a)}catch(e){}}},[]),(0,i.useEffect)(()=>{try{var e;null==v||null===(e=v.tabs)||void 0===e||e.query({active:!0,currentWindow:!0},e=>{var t;let l=null==e?void 0:e[0];(null==l?void 0:l.id)&&(null==v||null===(t=v.tabs)||void 0===t||t.sendMessage(l.id,{action:"extractDate"},e=>{(null==e?void 0:e.date)&&r(e.date)}))})}catch(e){}},[]);let f=e=>{m(e),document.documentElement.setAttribute("data-theme",e?"dark":"light");try{var t;null==v||null===(t=v.storage)||void 0===t||t.local.set({isDarkMode:e})}catch(e){}},p=e=>/^https:\/\/(www\.)?tiktok\.com\/@[\w.]+\/(video|photo)\/\d+/.test(e)||/linkedin\.com.*[^0-9]([0-9]{19})/.test(e),N=async()=>{if(u(null),s(null),!p(e)){u("Please enter a valid TikTok or LinkedIn URL");return}o(!0);try{var t,l;if(e.includes("tiktok.com")){let l=null===(t=/\/(video|photo)\/(\d+)/.exec(e))||void 0===t?void 0:t[2];if(!l)throw Error("Invalid TikTok video ID");let a=BigInt(l)>>32n,i=1e3*Number(a);s(new Date(i).toUTCString()+" (UTC)")}else if(e.includes("linkedin.com")){let t=/fsd_comment:\((\d+),urn:li:activity:\d+\)/.exec(decodeURIComponent(e)),a=(null==t?void 0:t[1])||(null===(l=/([0-9]{19})/.exec(e))||void 0===l?void 0:l[1]);if(!a)throw Error("Could not extract LinkedIn ID");let i=Number(BigInt(a)>>23n);s(new Date(i).toUTCString()+" (UTC)")}}catch(e){u((null==e?void 0:e.message)||"Extraction failed")}finally{o(!1)}},g=e=>{e&&navigator.clipboard.writeText(e)},b=e=>{if(!e)return"";let t=new Date(e.replace(" (UTC)",""));return x?t.toUTCString()+" (UTC)":t.toLocaleString()},k=e=>{if(!e)return"";let t=new Date(e.replace(" (UTC)","")),l=Math.floor(Math.abs(Date.now()-t.getTime())/6e4);if(l<1)return"just now";if(l<60)return"".concat(l,"m ago");let a=Math.floor(l/60);if(a<24)return"".concat(a,"h ago");let i=Math.floor(a/24);if(i<30)return"".concat(i,"d ago");let s=Math.floor(i/30);return s<12?"".concat(s,"mo ago"):"".concat(Math.floor(s/12),"y ago")};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("header",{className:"header",children:[(0,a.jsxs)("div",{className:"title",children:[(0,a.jsx)("span",{className:"material-icons",children:"event"}),(0,a.jsx)("h2",{children:"Date Sniffer"})]}),(0,a.jsxs)("div",{className:"header-actions",children:[(0,a.jsxs)("div",{className:"tz-toggle",role:"group","aria-label":"Timezone toggle",children:[(0,a.jsx)("button",{className:x?"active":"",onClick:()=>j(!0),children:"UTC"}),(0,a.jsx)("button",{className:x?"":"active",onClick:()=>j(!1),children:"Local"})]}),(0,a.jsx)("button",{className:"theme-toggle",onClick:()=>f(!h),"aria-label":"Toggle dark mode",children:(0,a.jsx)("span",{className:"material-icons",children:h?"light_mode":"dark_mode"})})]})]}),(0,a.jsxs)("section",{className:"card",children:[(0,a.jsxs)("div",{className:"input-section",children:[(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Paste TikTok or LinkedIn URL","aria-label":"URL input field"}),(0,a.jsxs)("button",{onClick:N,disabled:!p(e),"aria-label":"Extract date from URL",children:[(0,a.jsx)("span",{className:"material-icons",children:"schedule"}),"Extract"]}),(0,a.jsx)("button",{onClick:()=>{t(""),u(null),s(null)},"aria-label":"Clear input field",children:(0,a.jsx)("span",{className:"material-icons",children:"clear"})})]}),d&&(0,a.jsx)("div",{id:"urlValidation",className:"error",role:"alert","aria-live":"polite",children:d}),c&&(0,a.jsx)("div",{id:"loader",className:"loader",role:"status","aria-label":"Loading",children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})}),l&&(0,a.jsx)("div",{id:"result",className:"result",role:"status","aria-live":"polite",children:(0,a.jsxs)("div",{className:"result-row",children:[(0,a.jsxs)("div",{className:"result-main",children:[(0,a.jsx)("div",{className:"result-label",children:"Post Date"}),(0,a.jsx)("div",{className:"result-value",id:"date",children:b(l)}),(0,a.jsx)("div",{className:"result-sub",children:k(l)})]}),(0,a.jsx)("div",{className:"result-actions",children:(0,a.jsxs)("button",{onClick:()=>g(b(l)),"aria-label":"Copy date to clipboard",children:[(0,a.jsx)("span",{className:"material-icons",children:"content_copy"}),(0,a.jsx)("span",{children:"Copy"})]})})]})})]}),n&&(0,a.jsx)("section",{id:"auto-detect",className:"card",role:"status","aria-live":"polite",children:(0,a.jsxs)("div",{className:"result-row",children:[(0,a.jsxs)("div",{className:"result-main",children:[(0,a.jsx)("div",{className:"result-label",children:"Detected Post Date"}),(0,a.jsx)("div",{className:"result-value",id:"detected-date",children:b(n)}),(0,a.jsx)("div",{className:"result-sub",children:k(n)})]}),(0,a.jsx)("div",{className:"result-actions",children:(0,a.jsxs)("button",{onClick:()=>g(b(n)),"aria-label":"Copy detected date to clipboard",children:[(0,a.jsx)("span",{className:"material-icons",children:"content_copy"}),(0,a.jsx)("span",{children:"Copy"})]})})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6559)}),_N_E=e.O()}]);